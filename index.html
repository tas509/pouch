<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>PouchDB CRUD App</title>
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>ðŸ–²</text></svg>"> 

    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="manifest" href="manifest.webmanifest">
    <script>
      if (navigator.serviceWorker) {
        navigator.serviceWorker.register ('service-worker.js',{scope: '/pouch/'})
      }
  </script>
    <link rel="stylesheet" type="text/css" href="css/bootstrap.min.css">
    <link rel="stylesheet" href="css/styles.css">
  </head>
  <body>

    <div id="filter-records-form">
     
      <form id="form-filter-records">
        <!--label for="name-filter">Name:</label-->
        <input type="text" id="name-filter" name="name-filter">

        <!-- need to do more work to get multiple filters working at once...-->
        <!--label for="weight-filter">Weight:</label-->
        <input type="hidden" id="weight-filter" name="weight-filter">

        <!--label for="height-filter">Height:</label-->
        <input type="hidden" id="height-filter" name="height-filter">

        <button type="submit">Search</button>
        <!--button id="reset-filter-btn" type="button">Reset Filter</button-->
      </form>
    </div>

    <div id="create-record-form">
      <h2>Create A Record</h2>
      <form id="form-create-record">
        <p>
        <label for="name">Name:</label>
        <input type="text" id="name" name="name" required>
      </p>
      <p>
        <label for="weight">Weight:</label>
        <input type="number" id="weight" name="weight"  size="4" required>

        <label for="height">Height:</label>
        <input type="number" id="height" name="height" size="4" required >
      </p>
      <p>
        <label for="image">Image:</label>
        <input type="file" id="image" name="image" accept="image/*">
      </p>
      <p>
        <button type="submit" class="btn btn-primary">Create Record</button>
      </p>
      </form>
    </div>
    

    <div id="update-record-form">
      <h2>Update Record</h2>
      <form id="form-update-record">
        <input type="hidden" id="_id" name="_id-update">
        <input type="hidden" id="_rev" name="_rev-update">

        <label for="name-update">Name:</label>
        <input type="text" id="name-update" name="name-update">

        <label for="weight-update">Weight:</label>
        <input type="number" id="weight-update" name="weight-update">

        <label for="height-update">Height:</label>
        <input type="number" id="height-update" name="height-update">
        <br>
        <label for="age-update">Age:</label>
        <input type="number" id="age-update" name="age-update">
        <br>
        <label for="image-update">Image:</label>
        <img src="" class="current-image">
        <input type="file" id="image-update" name="image-update" accept="image/*">
        <br>
        <button type="submit">Update Record</button>
        <button id="delete-record-btn" type="button">Delete Record</button>
      </form>
    </div>

    

    <div id="record-list">
      <h2>Record List</h2>
      <ul id="list"></ul>
    </div>

  

    <div id="import-export">
      <h2>Import/Export</h2>
      <input type="file" id="import-file" \><button onclick="importJSON()">Load Data</button>
      <button id="export-data-btn" type="button">Export Database</button> | 
      <button onclick="if(confirm('Delete all data? This is irreversible.')) deleteData()">Delete All Data Forever</button> 
    </div>

    <!--
      jquery-3.6.0.min.js
pouchdb.min.js
pouchdb.find.js

https://code.jquery.com/jquery-3.6.0.min.js
https://cdn.jsdelivr.net/npm/pouchdb@7.2.2/dist/pouchdb.min.js
https://cdn.jsdelivr.net/npm/pouchdb-find@7.2.2/dist/pouchdb.find.min.js
    -->
   

    <script src="js/pouchdb.min.js"></script>
    <script src="js/pouchdb.find.js"></script>

    <script src="js/jquery-3.6.0.min.js"></script>

    <script src="backend.js"></script>
    <script src="app.js"></script>
  </body>
</html>
